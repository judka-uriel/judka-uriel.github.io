---
layout: default
---
<div class="page" x-data="{ buttons: false, right_sidebar_button: true, prev_scroll: 0 }" @scroll.window="right_sidebar_button = (window.pageYOffset < prev_scroll) ? true : false; prev_scroll = window.pageYOffset">
  <button id="right-btn" x-show="right_sidebar_button">
    <div class="dots"></div>
    <div class="dots"></div>
    <div class="dots"></div>
  </button>

  <aside id="right-sidebar">
    <nav>
      <h2>Содержание</h2>
      <ul>
        {% for item in page.toc %}
        <li><a href="#{{ item.id }}">{{ item.title }}</a></li>
        {%- endfor -%}
        <li>
        {% if page.more_sidebar_html %}
        {{ page.more_sidebar_html }}
        {% endif %}
        </li>
      </ul>
    </nav>
  </aside>

  <div class="main-content">
    {{ content }}
  </div>
</div>

<script>
const right_btn = document.getElementById('right-btn');
const right_sidebar = document.getElementById('right-sidebar');

right_btn.addEventListener('click', () => {
  right_sidebar.classList.toggle('active');
});

document.addEventListener('click', (event) => {
  if (window.innerWidth < 1600 && !right_btn.contains(event.target) && !right_sidebar.contains(event.target)) {
    right_sidebar.classList.remove('active');
  }
});
</script>
